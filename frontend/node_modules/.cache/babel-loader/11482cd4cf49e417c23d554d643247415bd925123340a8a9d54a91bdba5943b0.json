{"ast":null,"code":"import { normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  slot: \"title\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_sidebar_item = _resolveComponent(\"sidebar-item\", true);\n  const _component_el_submenu = _resolveComponent(\"el-submenu\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  return !$props.item.meta || !$props.item.meta.hidden ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$options.hasOneShowingChild($props.item.children, $props.item) || _ctx.onlyOneChild.children && !_ctx.onlyOneChild.noShowingChildren || $props.item.meta && $props.item.meta.alwaysShow ? (_openBlock(), _createBlock(_component_el_submenu, {\n    key: 0,\n    index: $options.resolvePath($props.item.path),\n    \"popper-append-to-body\": \"\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"template\", _hoisted_2, [$props.item.meta && $props.item.meta.icon ? (_openBlock(), _createElementBlock(\"i\", {\n      key: 0,\n      class: _normalizeClass($props.item.meta && $props.item.meta.icon)\n    }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), $props.item.meta && $props.item.meta.title ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString($props.item.meta.title), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.item.children, child => {\n      return _openBlock(), _createBlock(_component_sidebar_item, {\n        key: child.path,\n        item: child,\n        \"base-path\": $options.resolvePath(child.path),\n        class: \"nest-menu\"\n      }, null, 8 /* PROPS */, [\"item\", \"base-path\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"index\"])) : (_openBlock(), _createBlock(_component_el_menu_item, {\n    key: 1,\n    index: $options.resolvePath(_ctx.onlyOneChild.path),\n    onClick: _cache[0] || (_cache[0] = $event => $options.handleLink(_ctx.onlyOneChild))\n  }, {\n    default: _withCtx(() => [_ctx.onlyOneChild.meta && _ctx.onlyOneChild.meta.icon ? (_openBlock(), _createElementBlock(\"i\", {\n      key: 0,\n      class: _normalizeClass(_ctx.onlyOneChild.meta && _ctx.onlyOneChild.meta.icon)\n    }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), _ctx.onlyOneChild.meta && _ctx.onlyOneChild.meta.title ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(_ctx.onlyOneChild.meta.title), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"index\"]))])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["slot","$props","item","meta","hidden","_createElementBlock","_hoisted_1","$options","hasOneShowingChild","children","_ctx","onlyOneChild","noShowingChildren","alwaysShow","_createBlock","_component_el_submenu","index","resolvePath","path","_createElementVNode","_hoisted_2","icon","class","_normalizeClass","title","_hoisted_3","_toDisplayString","_Fragment","_renderList","child","_component_sidebar_item","key","_component_el_menu_item","onClick","_cache","$event","handleLink","_hoisted_4"],"sources":["/Users/windwheel/Documents/gitrepo/train-storge-workflow/frontend/src/layout/components/SidebarItem.vue"],"sourcesContent":["<template>\n  <div v-if=\"!item.meta || !item.meta.hidden\">\n    <template v-if=\"!hasOneShowingChild(item.children, item) || (onlyOneChild.children && !onlyOneChild.noShowingChildren) || item.meta && item.meta.alwaysShow\">\n      <el-submenu :index=\"resolvePath(item.path)\" popper-append-to-body>\n        <template slot=\"title\">\n          <i :class=\"item.meta && item.meta.icon\" v-if=\"item.meta && item.meta.icon\"></i>\n          <span v-if=\"item.meta && item.meta.title\">{{ item.meta.title }}</span>\n        </template>\n        <sidebar-item\n          v-for=\"child in item.children\"\n          :key=\"child.path\"\n          :item=\"child\"\n          :base-path=\"resolvePath(child.path)\"\n          class=\"nest-menu\"\n        />\n      </el-submenu>\n    </template>\n    <template v-else>\n      <el-menu-item :index=\"resolvePath(onlyOneChild.path)\" @click=\"handleLink(onlyOneChild)\">\n        <i :class=\"onlyOneChild.meta && onlyOneChild.meta.icon\" v-if=\"onlyOneChild.meta && onlyOneChild.meta.icon\"></i>\n        <span v-if=\"onlyOneChild.meta && onlyOneChild.meta.title\">{{ onlyOneChild.meta.title }}</span>\n      </el-menu-item>\n    </template>\n  </div>\n</template>\n\n<script>\nimport path from 'path-browserify'\n\nexport default {\n  name: 'SidebarItem',\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    basePath: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    this.onlyOneChild = null\n    return {}\n  },\n  methods: {\n    hasOneShowingChild(children = [], parent) {\n      const showingChildren = children.filter(item => {\n        if (item.meta && item.meta.hidden) {\n          return false\n        } else {\n          this.onlyOneChild = item\n          return true\n        }\n      })\n\n      if (showingChildren.length === 1) {\n        return true\n      }\n\n      if (showingChildren.length === 0) {\n        this.onlyOneChild = { ...parent, path: '', noShowingChildren: true }\n        return true\n      }\n\n      return false\n    },\n    resolvePath(routePath) {\n      if (this.isExternal(routePath)) {\n        return routePath\n      }\n      if (this.isExternal(this.basePath)) {\n        return this.basePath\n      }\n      return path.resolve(this.basePath, routePath)\n    },\n    isExternal(path) {\n      return /^(https?:|mailto:|tel:)/.test(path)\n    },\n    handleLink(item) {\n      const { redirect, path } = item\n      if (redirect) {\n        this.$router.push(redirect)\n        return\n      }\n      this.$router.push(path)\n    }\n  }\n}\n</script> "],"mappings":";;;;;EAIkBA,IAAI,EAAC;AAAO;;;;;;;;;;;UAHhBC,MAAA,CAAAC,IAAI,CAACC,IAAI,KAAKF,MAAA,CAAAC,IAAI,CAACC,IAAI,CAACC,MAAM,I,cAA1CC,mBAAA,CAsBM,OAAAC,UAAA,G,CArBaC,QAAA,CAAAC,kBAAkB,CAACP,MAAA,CAAAC,IAAI,CAACO,QAAQ,EAAER,MAAA,CAAAC,IAAI,KAAMQ,IAAA,CAAAC,YAAY,CAACF,QAAQ,KAAKC,IAAA,CAAAC,YAAY,CAACC,iBAAiB,IAAKX,MAAA,CAAAC,IAAI,CAACC,IAAI,IAAIF,MAAA,CAAAC,IAAI,CAACC,IAAI,CAACU,UAAU,I,cACzJC,YAAA,CAYaC,qBAAA;;IAZAC,KAAK,EAAET,QAAA,CAAAU,WAAW,CAAChB,MAAA,CAAAC,IAAI,CAACgB,IAAI;IAAG,uBAAqB,EAArB;;sBAC1C,MAGW,CAHXC,mBAAA,CAGW,YAHXC,UAGW,GAFqCnB,MAAA,CAAAC,IAAI,CAACC,IAAI,IAAIF,MAAA,CAAAC,IAAI,CAACC,IAAI,CAACkB,IAAI,I,cAAzEhB,mBAAA,CAA+E;;MAA3EiB,KAAK,EAAAC,eAAA,CAAEtB,MAAA,CAAAC,IAAI,CAACC,IAAI,IAAIF,MAAA,CAAAC,IAAI,CAACC,IAAI,CAACkB,IAAI;kEAC1BpB,MAAA,CAAAC,IAAI,CAACC,IAAI,IAAIF,MAAA,CAAAC,IAAI,CAACC,IAAI,CAACqB,KAAK,I,cAAxCnB,mBAAA,CAAsE,QAAAoB,UAAA,EAAAC,gBAAA,CAAzBzB,MAAA,CAAAC,IAAI,CAACC,IAAI,CAACqB,KAAK,oB,wDAE9DnB,mBAAA,CAMEsB,SAAA,QAAAC,WAAA,CALgB3B,MAAA,CAAAC,IAAI,CAACO,QAAQ,EAAtBoB,KAAK;2BADdf,YAAA,CAMEgB,uBAAA;QAJCC,GAAG,EAAEF,KAAK,CAACX,IAAI;QACfhB,IAAI,EAAE2B,KAAK;QACX,WAAS,EAAEtB,QAAA,CAAAU,WAAW,CAACY,KAAK,CAACX,IAAI;QAClCI,KAAK,EAAC;;;;iDAKVR,YAAA,CAGekB,uBAAA;;IAHAhB,KAAK,EAAET,QAAA,CAAAU,WAAW,CAACP,IAAA,CAAAC,YAAY,CAACO,IAAI;IAAIe,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAE5B,QAAA,CAAA6B,UAAU,CAAC1B,IAAA,CAAAC,YAAY;;sBACnF,MAA+G,CAAjDD,IAAA,CAAAC,YAAY,CAACR,IAAI,IAAIO,IAAA,CAAAC,YAAY,CAACR,IAAI,CAACkB,IAAI,I,cAAzGhB,mBAAA,CAA+G;;MAA3GiB,KAAK,EAAAC,eAAA,CAAEb,IAAA,CAAAC,YAAY,CAACR,IAAI,IAAIO,IAAA,CAAAC,YAAY,CAACR,IAAI,CAACkB,IAAI;kEAC1CX,IAAA,CAAAC,YAAY,CAACR,IAAI,IAAIO,IAAA,CAAAC,YAAY,CAACR,IAAI,CAACqB,KAAK,I,cAAxDnB,mBAAA,CAA8F,QAAAgC,UAAA,EAAAX,gBAAA,CAAjChB,IAAA,CAAAC,YAAY,CAACR,IAAI,CAACqB,KAAK,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}