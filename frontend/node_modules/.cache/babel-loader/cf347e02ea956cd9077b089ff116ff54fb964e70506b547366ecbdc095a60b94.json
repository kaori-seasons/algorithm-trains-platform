{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Transition as _Transition } from \"vue\";\nimport _imports_0 from '@/assets/logo.svg';\nconst _hoisted_1 = {\n  class: \"logo-container\"\n};\nconst _hoisted_2 = {\n  class: \"title\"\n};\nconst _hoisted_3 = {\n  class: \"main-container\"\n};\nconst _hoisted_4 = {\n  class: \"navbar\"\n};\nconst _hoisted_5 = {\n  class: \"navbar-left\"\n};\nconst _hoisted_6 = {\n  class: \"navbar-right\"\n};\nconst _hoisted_7 = {\n  class: \"avatar-container\"\n};\nconst _hoisted_8 = {\n  class: \"username\"\n};\nconst _hoisted_9 = {\n  class: \"app-main\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_sidebar_item = _resolveComponent(\"sidebar-item\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_breadcrumb = _resolveComponent(\"breadcrumb\");\n  const _component_el_avatar = _resolveComponent(\"el-avatar\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"app-wrapper\", {\n      collapsed: !_ctx.sidebarOpened\n    }])\n  }, [_createCommentVNode(\" 侧边栏 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"sidebar-container\", {\n      collapsed: !_ctx.sidebarOpened\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_1, [_cache[0] || (_cache[0] = _createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Logo\",\n    class: \"logo\"\n  }, null, -1 /* CACHED */)), _withDirectives(_createElementVNode(\"span\", _hoisted_2, \"训练平台\", 512 /* NEED_PATCH */), [[_vShow, _ctx.sidebarOpened]])]), _createVNode(_component_el_menu, {\n    \"default-active\": _ctx.$route.path,\n    collapse: !_ctx.sidebarOpened,\n    \"unique-opened\": true,\n    router: \"\",\n    class: \"sidebar-menu\",\n    \"background-color\": \"#304156\",\n    \"text-color\": \"#bfcbd9\",\n    \"active-text-color\": \"#409EFF\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.routes, route => {\n      return _openBlock(), _createBlock(_component_sidebar_item, {\n        key: route.path,\n        item: route,\n        \"base-path\": route.path\n      }, null, 8 /* PROPS */, [\"item\", \"base-path\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\", \"collapse\"])], 2 /* CLASS */), _createCommentVNode(\" 主内容区 \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 顶部导航栏 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_button, {\n    type: \"text\",\n    icon: \"el-icon-menu\",\n    onClick: _ctx.toggleSidebar,\n    class: \"hamburger-btn\"\n  }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_breadcrumb, {\n    class: \"breadcrumb\"\n  })]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_dropdown, {\n    trigger: \"click\",\n    onCommand: $options.handleCommand\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_avatar, {\n      size: 32,\n      src: _ctx.userInfo.avatar\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.userInfo.name ? _ctx.userInfo.name.charAt(0) : 'U'), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"src\"]), _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_ctx.userInfo.name || '用户'), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"i\", {\n      class: \"el-icon-arrow-down el-icon--right\"\n    }, null, -1 /* CACHED */))]), _createVNode(_component_el_dropdown_menu, {\n      slot: \"dropdown\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n        command: \"profile\"\n      }, {\n        default: _withCtx(() => _cache[2] || (_cache[2] = [_createElementVNode(\"i\", {\n          class: \"el-icon-user\"\n        }, null, -1 /* CACHED */), _createTextVNode(\" 个人资料 \", -1 /* CACHED */)])),\n        _: 1 /* STABLE */,\n        __: [2]\n      }), _createVNode(_component_el_dropdown_item, {\n        command: \"settings\"\n      }, {\n        default: _withCtx(() => _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n          class: \"el-icon-setting\"\n        }, null, -1 /* CACHED */), _createTextVNode(\" 系统设置 \", -1 /* CACHED */)])),\n        _: 1 /* STABLE */,\n        __: [3]\n      }), _createVNode(_component_el_dropdown_item, {\n        divided: \"\",\n        command: \"logout\"\n      }, {\n        default: _withCtx(() => _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n          class: \"el-icon-switch-button\"\n        }, null, -1 /* CACHED */), _createTextVNode(\" 退出登录 \", -1 /* CACHED */)])),\n        _: 1 /* STABLE */,\n        __: [4]\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onCommand\"])])]), _createCommentVNode(\" 内容区域 \"), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_Transition, {\n    name: \"fade-transform\",\n    mode: \"out-in\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_router_view)]),\n    _: 1 /* STABLE */\n  })])])], 2 /* CLASS */);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_normalizeClass","collapsed","_ctx","sidebarOpened","_createCommentVNode","_createElementVNode","_hoisted_1","src","alt","_hoisted_2","_createVNode","_component_el_menu","$route","path","collapse","router","_Fragment","_renderList","$options","routes","route","_createBlock","_component_sidebar_item","key","item","_hoisted_3","_hoisted_4","_hoisted_5","_component_el_button","type","icon","onClick","toggleSidebar","_component_breadcrumb","_hoisted_6","_component_el_dropdown","trigger","onCommand","handleCommand","_hoisted_7","_component_el_avatar","size","userInfo","avatar","name","charAt","_hoisted_8","_toDisplayString","_component_el_dropdown_menu","slot","_component_el_dropdown_item","command","_cache","divided","_hoisted_9","_Transition","mode","_component_router_view"],"sources":["/Users/windwheel/Documents/gitrepo/train-storge-workflow/frontend/src/layout/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-wrapper\" :class=\"{ collapsed: !sidebarOpened }\">\n    <!-- 侧边栏 -->\n    <div class=\"sidebar-container\" :class=\"{ collapsed: !sidebarOpened }\">\n      <div class=\"logo-container\">\n        <img src=\"@/assets/logo.svg\" alt=\"Logo\" class=\"logo\" />\n        <span class=\"title\" v-show=\"sidebarOpened\">训练平台</span>\n      </div>\n      \n      <el-menu\n        :default-active=\"$route.path\"\n        :collapse=\"!sidebarOpened\"\n        :unique-opened=\"true\"\n        router\n        class=\"sidebar-menu\"\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409EFF\"\n      >\n        <sidebar-item\n          v-for=\"route in routes\"\n          :key=\"route.path\"\n          :item=\"route\"\n          :base-path=\"route.path\"\n        />\n      </el-menu>\n    </div>\n\n    <!-- 主内容区 -->\n    <div class=\"main-container\">\n      <!-- 顶部导航栏 -->\n      <div class=\"navbar\">\n        <div class=\"navbar-left\">\n          <el-button\n            type=\"text\"\n            icon=\"el-icon-menu\"\n            @click=\"toggleSidebar\"\n            class=\"hamburger-btn\"\n          />\n          <breadcrumb class=\"breadcrumb\" />\n        </div>\n        \n        <div class=\"navbar-right\">\n          <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n            <div class=\"avatar-container\">\n              <el-avatar :size=\"32\" :src=\"userInfo.avatar\">\n                {{ userInfo.name ? userInfo.name.charAt(0) : 'U' }}\n              </el-avatar>\n              <span class=\"username\">{{ userInfo.name || '用户' }}</span>\n              <i class=\"el-icon-arrow-down el-icon--right\"></i>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"profile\">\n                <i class=\"el-icon-user\"></i> 个人资料\n              </el-dropdown-item>\n              <el-dropdown-item command=\"settings\">\n                <i class=\"el-icon-setting\"></i> 系统设置\n              </el-dropdown-item>\n              <el-dropdown-item divided command=\"logout\">\n                <i class=\"el-icon-switch-button\"></i> 退出登录\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </div>\n\n      <!-- 内容区域 -->\n      <div class=\"app-main\">\n        <transition name=\"fade-transform\" mode=\"out-in\">\n          <router-view />\n        </transition>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport SidebarItem from './components/SidebarItem.vue'\nimport Breadcrumb from './components/Breadcrumb.vue'\n\nexport default {\n  name: 'Layout',\n  components: {\n    SidebarItem,\n    Breadcrumb\n  },\n  computed: {\n    ...mapState({\n      sidebarOpened: state => state.sidebar.opened,\n      userInfo: state => state.user.userInfo\n    }),\n    routes() {\n      return this.$router.options.routes.filter(route => !route.meta?.hidden)\n    }\n  },\n  methods: {\n    ...mapActions(['toggleSidebar']),\n    handleCommand(command) {\n      switch (command) {\n        case 'profile':\n          this.$router.push('/user/profile')\n          break\n        case 'settings':\n          this.$router.push('/user/settings')\n          break\n        case 'logout':\n          this.handleLogout()\n          break\n      }\n    },\n    async handleLogout() {\n      try {\n        await this.$store.dispatch('user/logout')\n        this.$message.success('退出登录成功')\n        this.$router.push('/login')\n      } catch (error) {\n        this.$message.error('退出登录失败')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-wrapper {\n  height: 100vh;\n  display: flex;\n  \n  .sidebar-container {\n    width: 210px;\n    height: 100%;\n    background: #304156;\n    transition: width 0.3s;\n    display: flex;\n    flex-direction: column;\n    \n    &.collapsed {\n      width: 64px;\n    }\n    \n    .logo-container {\n      height: 60px;\n      display: flex;\n      align-items: center;\n      padding: 0 16px;\n      background: #2b2f3a;\n      \n      .logo {\n        width: 32px;\n        height: 32px;\n        margin-right: 12px;\n      }\n      \n      .title {\n        color: #fff;\n        font-size: 16px;\n        font-weight: 600;\n        white-space: nowrap;\n      }\n    }\n    \n    .sidebar-menu {\n      flex: 1;\n      border: none;\n    }\n  }\n  \n  .main-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    \n    .navbar {\n      height: 60px;\n      background: #fff;\n      border-bottom: 1px solid #e6e6e6;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 20px;\n      \n      .navbar-left {\n        display: flex;\n        align-items: center;\n        \n        .hamburger-btn {\n          margin-right: 16px;\n          font-size: 18px;\n        }\n        \n        .breadcrumb {\n          flex: 1;\n        }\n      }\n      \n      .navbar-right {\n        .avatar-container {\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n          padding: 8px;\n          border-radius: 4px;\n          transition: background-color 0.3s;\n          \n          &:hover {\n            background-color: #f5f5f5;\n          }\n          \n          .username {\n            margin: 0 8px;\n            color: #333;\n          }\n        }\n      }\n    }\n    \n    .app-main {\n      flex: 1;\n      padding: 20px;\n      overflow-y: auto;\n      background: #f0f2f5;\n    }\n  }\n}\n\n// 响应式设计\n@media (max-width: 768px) {\n  .app-wrapper {\n    .sidebar-container {\n      position: fixed;\n      left: 0;\n      top: 0;\n      z-index: 1000;\n      transform: translateX(-100%);\n      transition: transform 0.3s;\n      \n      &.collapsed {\n        transform: translateX(0);\n      }\n    }\n    \n    .main-container {\n      margin-left: 0;\n    }\n  }\n}\n\n// 过渡动画\n.fade-transform-enter-active,\n.fade-transform-leave-active {\n  transition: all 0.3s;\n}\n\n.fade-transform-enter {\n  opacity: 0;\n  transform: translateX(-30px);\n}\n\n.fade-transform-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}