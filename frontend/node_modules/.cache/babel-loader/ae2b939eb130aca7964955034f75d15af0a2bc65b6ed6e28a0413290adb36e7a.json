{"ast":null,"code":"import { mapState, mapActions } from 'vuex';\nimport SidebarItem from './components/SidebarItem.vue';\nimport Breadcrumb from './components/Breadcrumb.vue';\nexport default {\n  name: 'Layout',\n  components: {\n    SidebarItem,\n    Breadcrumb\n  },\n  computed: {\n    ...mapState({\n      sidebarOpened: state => state.sidebar.opened,\n      userInfo: state => state.user.userInfo\n    }),\n    routes() {\n      return this.$router.options.routes.filter(route => !route.meta?.hidden);\n    }\n  },\n  methods: {\n    ...mapActions(['toggleSidebar']),\n    handleCommand(command) {\n      switch (command) {\n        case 'profile':\n          this.$router.push('/user/profile');\n          break;\n        case 'settings':\n          this.$router.push('/user/settings');\n          break;\n        case 'logout':\n          this.handleLogout();\n          break;\n      }\n    },\n    async handleLogout() {\n      try {\n        await this.$store.dispatch('user/logout');\n        this.$message.success('退出登录成功');\n        this.$router.push('/login');\n      } catch (error) {\n        this.$message.error('退出登录失败');\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapActions","SidebarItem","Breadcrumb","name","components","computed","sidebarOpened","state","sidebar","opened","userInfo","user","routes","$router","options","filter","route","meta","hidden","methods","handleCommand","command","push","handleLogout","$store","dispatch","$message","success","error"],"sources":["src/layout/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-wrapper\" :class=\"{ collapsed: !sidebarOpened }\">\n    <!-- 侧边栏 -->\n    <div class=\"sidebar-container\" :class=\"{ collapsed: !sidebarOpened }\">\n      <div class=\"logo-container\">\n        <img src=\"@/assets/logo.svg\" alt=\"Logo\" class=\"logo\" />\n        <span class=\"title\" v-show=\"sidebarOpened\">训练平台</span>\n      </div>\n      \n      <el-menu\n        :default-active=\"$route.path\"\n        :collapse=\"!sidebarOpened\"\n        :unique-opened=\"true\"\n        router\n        class=\"sidebar-menu\"\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409EFF\"\n      >\n        <sidebar-item\n          v-for=\"route in routes\"\n          :key=\"route.path\"\n          :item=\"route\"\n          :base-path=\"route.path\"\n        />\n      </el-menu>\n    </div>\n\n    <!-- 主内容区 -->\n    <div class=\"main-container\">\n      <!-- 顶部导航栏 -->\n      <div class=\"navbar\">\n        <div class=\"navbar-left\">\n          <el-button\n            type=\"text\"\n            icon=\"el-icon-menu\"\n            @click=\"toggleSidebar\"\n            class=\"hamburger-btn\"\n          />\n          <breadcrumb class=\"breadcrumb\" />\n        </div>\n        \n        <div class=\"navbar-right\">\n          <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n            <div class=\"avatar-container\">\n              <el-avatar :size=\"32\" :src=\"userInfo.avatar\">\n                {{ userInfo.name ? userInfo.name.charAt(0) : 'U' }}\n              </el-avatar>\n              <span class=\"username\">{{ userInfo.name || '用户' }}</span>\n              <i class=\"el-icon-arrow-down el-icon--right\"></i>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"profile\">\n                <i class=\"el-icon-user\"></i> 个人资料\n              </el-dropdown-item>\n              <el-dropdown-item command=\"settings\">\n                <i class=\"el-icon-setting\"></i> 系统设置\n              </el-dropdown-item>\n              <el-dropdown-item divided command=\"logout\">\n                <i class=\"el-icon-switch-button\"></i> 退出登录\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </div>\n\n      <!-- 内容区域 -->\n      <div class=\"app-main\">\n        <transition name=\"fade-transform\" mode=\"out-in\">\n          <router-view />\n        </transition>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport SidebarItem from './components/SidebarItem.vue'\nimport Breadcrumb from './components/Breadcrumb.vue'\n\nexport default {\n  name: 'Layout',\n  components: {\n    SidebarItem,\n    Breadcrumb\n  },\n  computed: {\n    ...mapState({\n      sidebarOpened: state => state.sidebar.opened,\n      userInfo: state => state.user.userInfo\n    }),\n    routes() {\n      return this.$router.options.routes.filter(route => !route.meta?.hidden)\n    }\n  },\n  methods: {\n    ...mapActions(['toggleSidebar']),\n    handleCommand(command) {\n      switch (command) {\n        case 'profile':\n          this.$router.push('/user/profile')\n          break\n        case 'settings':\n          this.$router.push('/user/settings')\n          break\n        case 'logout':\n          this.handleLogout()\n          break\n      }\n    },\n    async handleLogout() {\n      try {\n        await this.$store.dispatch('user/logout')\n        this.$message.success('退出登录成功')\n        this.$router.push('/login')\n      } catch (error) {\n        this.$message.error('退出登录失败')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-wrapper {\n  height: 100vh;\n  display: flex;\n  \n  .sidebar-container {\n    width: 210px;\n    height: 100%;\n    background: #304156;\n    transition: width 0.3s;\n    display: flex;\n    flex-direction: column;\n    \n    &.collapsed {\n      width: 64px;\n    }\n    \n    .logo-container {\n      height: 60px;\n      display: flex;\n      align-items: center;\n      padding: 0 16px;\n      background: #2b2f3a;\n      \n      .logo {\n        width: 32px;\n        height: 32px;\n        margin-right: 12px;\n      }\n      \n      .title {\n        color: #fff;\n        font-size: 16px;\n        font-weight: 600;\n        white-space: nowrap;\n      }\n    }\n    \n    .sidebar-menu {\n      flex: 1;\n      border: none;\n    }\n  }\n  \n  .main-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    \n    .navbar {\n      height: 60px;\n      background: #fff;\n      border-bottom: 1px solid #e6e6e6;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 20px;\n      \n      .navbar-left {\n        display: flex;\n        align-items: center;\n        \n        .hamburger-btn {\n          margin-right: 16px;\n          font-size: 18px;\n        }\n        \n        .breadcrumb {\n          flex: 1;\n        }\n      }\n      \n      .navbar-right {\n        .avatar-container {\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n          padding: 8px;\n          border-radius: 4px;\n          transition: background-color 0.3s;\n          \n          &:hover {\n            background-color: #f5f5f5;\n          }\n          \n          .username {\n            margin: 0 8px;\n            color: #333;\n          }\n        }\n      }\n    }\n    \n    .app-main {\n      flex: 1;\n      padding: 20px;\n      overflow-y: auto;\n      background: #f0f2f5;\n    }\n  }\n}\n\n// 响应式设计\n@media (max-width: 768px) {\n  .app-wrapper {\n    .sidebar-container {\n      position: fixed;\n      left: 0;\n      top: 0;\n      z-index: 1000;\n      transform: translateX(-100%);\n      transition: transform 0.3s;\n      \n      &.collapsed {\n        transform: translateX(0);\n      }\n    }\n    \n    .main-container {\n      margin-left: 0;\n    }\n  }\n}\n\n// 过渡动画\n.fade-transform-enter-active,\n.fade-transform-leave-active {\n  transition: all 0.3s;\n}\n\n.fade-transform-enter {\n  opacity: 0;\n  transform: translateX(-30px);\n}\n\n.fade-transform-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style> "],"mappings":"AA6EA,SAAAA,QAAA,EAAAC,UAAA;AACA,OAAAC,WAAA;AACA,OAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,WAAA;IACAC;EACA;EACAG,QAAA;IACA,GAAAN,QAAA;MACAO,aAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAC,OAAA,CAAAC,MAAA;MACAC,QAAA,EAAAH,KAAA,IAAAA,KAAA,CAAAI,IAAA,CAAAD;IACA;IACAE,OAAA;MACA,YAAAC,OAAA,CAAAC,OAAA,CAAAF,MAAA,CAAAG,MAAA,CAAAC,KAAA,KAAAA,KAAA,CAAAC,IAAA,EAAAC,MAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAnB,UAAA;IACAoB,cAAAC,OAAA;MACA,QAAAA,OAAA;QACA;UACA,KAAAR,OAAA,CAAAS,IAAA;UACA;QACA;UACA,KAAAT,OAAA,CAAAS,IAAA;UACA;QACA;UACA,KAAAC,YAAA;UACA;MACA;IACA;IACA,MAAAA,aAAA;MACA;QACA,WAAAC,MAAA,CAAAC,QAAA;QACA,KAAAC,QAAA,CAAAC,OAAA;QACA,KAAAd,OAAA,CAAAS,IAAA;MACA,SAAAM,KAAA;QACA,KAAAF,QAAA,CAAAE,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}